"use strict";(self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[]).push([[443],{7825:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var o=r(3396);const s=(0,o._)("h1",null,"404 not found",-1),a=(0,o._)("h2",null,"Aucune page ne ce trouve ici",-1);function i(e,t){const r=(0,o.up)("center");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[s,a])),_:1})])}var n=r(89);const l={},d=(0,n.Z)(l,[["render",i]]);var c=d},9497:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var o=r(3396);const s={class:"page-content p-5 bg-light",id:"content"},a={class:"py-4"},i=(0,o.uE)('<header class="pb-3 mb-4 border-bottom"><a href="/" class="d-flex align-items-center text-dark text-decoration-none"><svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"></path></svg><span class="fs-4 ms-2 text-light"><strong> Gestion du compte</strong></span></a></header>',1),n=(0,o._)("footer",{class:"pt-3 mt-4 fw-bold text-light border-top"}," © MDT-Systeme 2022 ",-1);function l(e,t,r,l,d,c){const p=(0,o.up)("MenuSide");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p),(0,o._)("div",s,[(0,o._)("div",a,[i,(0,o._)("button",{class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>c.disconnect&&c.disconnect(...e))},"Deconnexion"),n])])],64)}r(7658);var d=r(426),c={name:"AccountView",components:{MenuSide:d.Z},methods:{async checkgrade(){const e=await fetch("/checkGrade",{method:"GET",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")}}),t=await e.json();1==t.error&&this.$router.push("/signin")},async disconnect(){const e=await fetch("/disconnect",{method:"PATCH",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")}}),t=await e.json();0==t.error&&this.$router.push("/")}},mounted(){this.checkgrade()}},p=r(89);const u=(0,p.Z)(c,[["render",l]]);var h=u},9922:function(e,t,r){r.r(t),r.d(t,{default:function(){return C}});var o=r(3396);const s={class:"page-content p-5 bg-light vh-100",id:"content"},a={class:"py-4"},i=(0,o.uE)('<header class="pb-3 mb-4 border-bottom"><a href="/report" class="d-flex align-items-center text-dark text-decoration-none"><svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path></svg><span class="fs-4 ms-2 text-light"><strong>Créateur de Rapport</strong></span></a></header>',1),n=(0,o._)("footer",{class:"pt-3 mt-4 fw-bold text-light border-top"}," © MDT-Systeme 2022 ",-1);function l(e,t,r,l,d,c){const p=(0,o.up)("MenuSide"),u=(0,o.up)("ReportForm");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p),(0,o._)("div",s,[(0,o._)("div",a,[i,(0,o.Wm)(u),n])])],64)}var d=r(9242);const c=(0,o._)("div",{class:"py-5 text-center"},[(0,o._)("h2",null,"Formulaire de Création de Rapport"),(0,o._)("p",{class:"lead"}," Ce formulaire vous permet de rédiger un rapport de service. Vous devez remplir tous les champs pour pouvoir continuer. ")],-1),p={class:"row"},u={class:"col-md-7 col-lg-12"},h=(0,o._)("h4",{class:"mb-3"},"Rapport",-1),m={class:"needs-validation",novalidate:""},f={class:"form-group"},g=(0,o._)("label",{for:"title"},"Titre",-1),v={class:"form-group mt-2"},w=(0,o._)("label",{for:"report"},"Zone de rapport",-1),_=(0,o._)("hr",{class:"my-4"},null,-1);function b(e,t,r,s,a,i){return(0,o.wg)(),(0,o.iD)("main",null,[c,(0,o._)("div",p,[(0,o._)("div",u,[h,(0,o._)("div",m,[(0,o._)("div",f,[g,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"title",placeholder:"Titre du rapport","onUpdate:modelValue":t[0]||(t[0]=e=>a.reportToAdd.title=e)},null,512),[[d.nr,a.reportToAdd.title]])]),(0,o._)("div",v,[w,(0,o.wy)((0,o._)("textarea",{class:"form-control",id:"report",rows:"3 ","onUpdate:modelValue":t[1]||(t[1]=e=>a.reportToAdd.report=e)},null,512),[[d.nr,a.reportToAdd.report]])]),_,(0,o._)("button",{class:"w-100 btn btn-primary btn-lg",onClick:t[2]||(t[2]=(...e)=>i.postReport&&i.postReport(...e))}," Soumettre le Rapport ")])])])])}r(7658);var k={name:"ReportForm",props:{},data(){return{reportToAdd:{report:"",title:""}}},methods:{async postReport(){if(""===this.reportToAdd.report||""===this.reportToAdd.title)return void alert("L'enregistrement est incomplet. Veuillez remplir tous les champs.");const e=await fetch("/report",{method:"POST",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(this.reportToAdd)}),t=await e.json();!1===t.error?(alert(t.successMessage),this.$router.push("/report")):alert(t.errorMessage)}}},y=r(89);const x=(0,y.Z)(k,[["render",b]]);var A=x,M=r(426),T={name:"ReportView",components:{ReportForm:A,MenuSide:M.Z}};const z=(0,y.Z)(T,[["render",l]]);var C=z},3366:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var o=r(3396);const s={class:"page-content p-5 bg-light",id:"content"},a={class:"py-4"},i=(0,o.uE)('<header class="pb-3 mb-4 border-bottom"><a href="/" class="d-flex align-items-center text-dark text-decoration-none"><svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-person-lines-fill" viewBox="0 0 16 16"><path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"></path></svg><span class="fs-4 ms-2 text-light"><strong>Inscription</strong></span></a></header>',1),n=(0,o._)("footer",{class:"pt-3 mt-4 fw-bold text-light border-top"}," © MDT-Systeme 2022 ",-1);function l(e,t,r,l,d,c){const p=(0,o.up)("MenuSide"),u=(0,o.up)("RegisterForm");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p),(0,o._)("div",s,[(0,o._)("div",a,[i,(0,o.Wm)(u),n])])],64)}var d=r(7139),c=r(9242);const p={class:"bg-light p-3 rounded-3"},u=(0,o._)("div",{class:"py-5 text-center"},[(0,o._)("h2",null,"Formulaire d'entrée en service du MDT"),(0,o._)("p",{class:"lead"}," Ce formulaire vous permet d'inscrire vos agents au MDT. Vous devez remplir tous les champs pour pouvoir continuer. ")],-1),h={class:"row"},m={class:"col-md-7 col-lg-12"},f=(0,o._)("h4",{class:"mb-3"},"Informations Agent",-1),g={key:0,class:"text-danger"},v={class:"needs-validation",novalidate:"true",id:"register"},w={class:"row g-3"},_={class:"col-sm-6"},b=(0,o._)("label",{for:"firstName",class:"form-label"},"Prénom",-1),k=(0,o._)("div",{class:"invalid-feedback"},"Prenom invalide.",-1),y={class:"col-sm-6"},x=(0,o._)("label",{for:"lastName",class:"form-label"},"Nom de famille",-1),A=(0,o._)("div",{class:"invalid-feedback"},"Nom invalide.",-1),M={class:"col-6"},T=(0,o._)("label",{for:"userName",class:"form-label"},"UserName",-1),z={class:"input-group has-validation"},C=(0,o._)("span",{class:"input-group-text"},"@",-1),S=(0,o._)("div",{class:"invalid-feedback"},"Prénom Requis.",-1),Z=(0,o._)("div",{class:"invalid-feedback"},"Entrer son nom d'utilisateur",-1),D={class:"col-6"},N=(0,o._)("label",{for:"password",class:"form-label"},"Mot de passe",-1),V={class:"input-group has-validation"},R=(0,o._)("div",{class:"invalid-feedback"},"Mot de passe Requis.",-1),U=(0,o._)("div",{class:"invalid-feedback"},"Entrer son nom d'utilisateur",-1),j={class:"col-md-12"},H=(0,o._)("label",{for:"grade",class:"form-label"},"Grades",-1),W=(0,o.uE)("<option>Selection Grade</option><option>Cadet</option><option>Officier 1</option><option>Officier 2</option><option>Officier 3</option><option>Sergent</option><option>Sergent-chef</option><option>Lieutenant</option><option>Capitaine</option><option>Commandant/(e)</option>",10),B=[W],E=(0,o._)("div",{class:"invalid-feedback"}," Selectionner le grade de l'officier ",-1),L=(0,o._)("hr",{class:"my-4"},null,-1);function I(e,t,r,s,a,i){return(0,o.wg)(),(0,o.iD)("main",p,[u,(0,o._)("div",h,[(0,o._)("div",m,[f,a.error?((0,o.wg)(),(0,o.iD)("div",g,(0,d.zw)(a.error),1)):(0,o.kq)("",!0),(0,o._)("div",v,[(0,o._)("div",w,[(0,o._)("div",_,[b,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"firstName",placeholder:"John","onUpdate:modelValue":t[0]||(t[0]=e=>a.userToAdd.firstName=e),required:"true"},null,512),[[c.nr,a.userToAdd.firstName]]),k]),(0,o._)("div",y,[x,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"lastName",placeholder:"Doe","onUpdate:modelValue":t[1]||(t[1]=e=>a.userToAdd.lastName=e),required:"true"},null,512),[[c.nr,a.userToAdd.lastName]]),A]),(0,o._)("div",M,[T,(0,o._)("div",z,[C,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"userName",placeholder:"JDoe",required:"true","onUpdate:modelValue":t[2]||(t[2]=e=>a.userToAdd.userName=e)},null,512),[[c.nr,a.userToAdd.userName]]),S])]),Z,(0,o._)("div",D,[N,(0,o._)("div",V,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"password",placeholder:"**JDoe**",required:"true","onUpdate:modelValue":t[3]||(t[3]=e=>a.userToAdd.password=e)},null,512),[[c.nr,a.userToAdd.password]]),R])]),U,(0,o._)("div",j,[H,(0,o.wy)((0,o._)("select",{class:"form-select",id:"grade",required:"true","onUpdate:modelValue":t[4]||(t[4]=e=>a.userToAdd.grade=e)},B,512),[[c.bM,a.userToAdd.grade]]),E])]),L,(0,o._)("button",{class:"w-100 btn btn-primary btn-lg",onClick:t[5]||(t[5]=(...e)=>i.postUser&&i.postUser(...e))}," Valider l'inscription ")])])])])}r(7658);var $={name:"RegisterForm",props:{},data(){return{error:null,userToAdd:{firstName:"",lastName:"",userName:"",grade:"",password:""}}},methods:{async postUser(){if(""===this.userToAdd.firstName||""===this.userToAdd.lastName||""===this.userToAdd.userName||""===this.userToAdd.grade||""===this.userToAdd.password)return void(this.error="L'inscription est incomplète. Veuillez remplir tous les champs.");if(!this.userToAdd.firstName.match(/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/)||!this.userToAdd.lastName.match(/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/)||!this.userToAdd.userName.match(/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/))return void(this.error="Le prénom / nom de famille et Username ne doivent pas contenir de chiffres ou de caractères");const e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(this.userToAdd)}),t=await e.json();1==t.error?this.error=t.errorMessage:0==t.error&&(alert(t.successMessage),this.$router.push("/workforce"))},async checkgrade(){const e=await fetch("/checkGrade",{method:"GET",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")}}),t=await e.json();1==t.error&&this.$router.push("/*")}},mounted(){this.checkgrade()}},q=r(89);const G=(0,q.Z)($,[["render",I]]);var O=G,Y=r(426),P={name:"RegisterView",components:{RegisterForm:O,MenuSide:Y.Z}};const F=(0,q.Z)(P,[["render",l]]);var J=F},5457:function(e,t,r){r.r(t),r.d(t,{default:function(){return B}});var o=r(3396);const s={class:"page-content p-5 bg-light",id:"content"},a={class:"py-4"},i=(0,o.uE)('<header class="pb-3 mb-4 border-bottom"><a href="/report" class="d-flex align-items-center text-dark text-decoration-none"><svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path></svg><span class="fs-4 ms-2 text-light"><strong>Systeme de Rapport</strong></span></a></header>',1),n={class:"row"},l={class:"col"},d={class:"nav_txt"},c=(0,o._)("path",{d:"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"},null,-1),p=(0,o._)("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"},null,-1),u=[c,p],h=(0,o._)("footer",{class:"pt-3 mt-4 fw-bold text-light border-top"}," © MDT-Systeme 2022 ",-1);function m(e,t,r,c,p,m){const f=(0,o.up)("MenuSide"),g=(0,o.up)("ReportList");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(f),(0,o._)("div",s,[(0,o._)("div",a,[i,(0,o._)("div",n,[(0,o._)("div",l,[(0,o._)("div",{class:"btn",onClick:t[1]||(t[1]=(...e)=>m.redirect&&m.redirect(...e))},[(0,o._)("span",d,[((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"white",class:"bi bi-file-earmark-plus",viewBox:"0 0 16 16",onClick:t[0]||(t[0]=(...e)=>m.redirect&&m.redirect(...e))},u))])])])]),(0,o.Wm)(g),h])])],64)}r(7658);var f=r(7139);const g={class:"container px-4 py-5",id:"featured-3"},v=(0,o._)("h2",{class:"pb-2 border-bottom text-light fw-bold"},"Rapport en cours",-1),w={class:"row"},_={class:"p-3"},b={class:"feature col border rounded-3"},k={class:"p-3 rounded-3"},y=(0,o.uE)('<div class="feature-icon d-flex justify-content-between position-relative"><i class="fa fa-file" aria-hidden="true"></i><i class="fa fa-cog menu_report" aria-hidden="true" id="{{report.id}}"></i><div class="position-absolute menu_container_open bg-dark text-light rounded-3"><div class="row listOpen_option" id="{{report.id + 1000}}"><div class="col-12">Classer</div><div class="col-12">Supprimer</div></div></div></div>',1),x=(0,o._)("a",{href:"#",class:"btn btn-info"},[(0,o.Uk)(" Lire la suite "),(0,o._)("i",{class:"fa fa-arrow-right","aria-hidden":"true"})],-1),A=(0,o._)("h2",{class:"pb-2 border-bottom text-light fw-bold mt-5"},"Rapport classés",-1),M={class:"row"},T={class:"p-3"},z={class:"feature col border rounded-3"},C={class:"p-3 rounded-3"},S=(0,o.uE)('<div class="feature-icon d-flex justify-content-between position-relative"><i class="fa fa-file" aria-hidden="true"></i><i class="fa fa-cog menu_report" aria-hidden="true" id="{{report.id}}"></i><div class="position-absolute menu_container_close bg-dark text-light rounded-3" id="{{report.id + 1000}}"><div class="row listclasse_option"><div class="col-12">Ouvrir</div><div class="col-12">Supprimer</div></div></div></div>',1),Z=(0,o._)("a",{href:"#",class:"btn btn-info"},[(0,o.Uk)(" Lire la suite "),(0,o._)("i",{class:"fa fa-arrow-right","aria-hidden":"true"})],-1);function D(e,t,r,s,a,i){return(0,o.wg)(),(0,o.iD)("div",g,[v,(0,o._)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.ActiveReport,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-xl-4 col-lg-12",key:e.id},[(0,o._)("div",_,[(0,o._)("div",b,[(0,o._)("div",k,[y,(0,o._)("h2",null,(0,f.zw)(e.title),1),(0,o._)("p",null,(0,f.zw)(e.content),1),x])])])])))),128))]),A,(0,o._)("div",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.ClosedReports,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-xl-4 col-lg-12",key:e.id},[(0,o._)("div",T,[(0,o._)("div",z,[(0,o._)("div",C,[S,(0,o._)("h2",null,(0,f.zw)(e.title),1),(0,o._)("p",null,(0,f.zw)(e.content),1),Z])])])])))),128))])])}var N={name:"ReportList",data(){return{reports:[]}},async created(){const e=await fetch("/reports");this.reports=await e.json()},computed:{ClosedReports(){return this.reports.filter((e=>2==e.statut))},ActiveReport(){return this.reports.filter((e=>1==e.statut))}},props:{},methods:{}},V=r(89);const R=(0,V.Z)(N,[["render",D]]);var U=R,j=r(426),H={name:"ReportView",components:{ReportList:U,MenuSide:j.Z},methods:{redirect(){this.$router.push("/addreport")}}};const W=(0,V.Z)(H,[["render",m]]);var B=W},7846:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var o=r(3396),s=r(7139),a=r(9242);const i={class:"page-content p-5 bg-light",id:"content"},n={class:"py-4"},l={class:"form-signin bg-light rounded-3"},d=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"57",fill:"dark",class:"bi bi-person-circle",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})],-1),c=(0,o._)("h1",{class:"h3 mb-3"},"Connection",-1),p={key:0,class:"text-danger"},u={class:"form-floating"},h=(0,o._)("label",{for:"floatingInput"},"Nom utilisateur",-1),m={class:"form-floating"},f=(0,o._)("label",{for:"password"},"Mot de passe",-1),g=(0,o._)("footer",{class:"pt-3 mt-4 fw-bold text-light border-top"}," © MDT-Systeme 2022 ",-1);function v(e,t,r,v,w,_){const b=(0,o.up)("MenuSide");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(b),(0,o._)("div",i,[(0,o._)("div",n,[(0,o._)("main",l,[(0,o._)("div",null,[d,c,w.error?((0,o.wg)(),(0,o.iD)("div",p,(0,s.zw)(w.error),1)):(0,o.kq)("",!0),(0,o._)("div",u,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"userName",placeholder:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>w.logUser.userName=e)},null,512),[[a.nr,w.logUser.userName]]),h]),(0,o._)("div",m,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"password",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=e=>w.logUser.password=e)},null,512),[[a.nr,w.logUser.password]]),f]),(0,o._)("button",{class:"w-100 btn btn-lg btn-primary",onClick:t[2]||(t[2]=(...e)=>_.loginUser&&_.loginUser(...e))}," Connection ")])]),g])])],64)}r(7658);var w=r(426),_={name:"loginSystem",components:{MenuSide:w.Z},data(){return{error:null,logUser:{userName:"",password:""}}},methods:{async loginUser(){if(""==this.logUser.userName&&""==this.logUser.password)this.error="Veuillez remplir les champs";else{const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.logUser)}),t=await e.json();t.token?(alert("Connexion réussie"),localStorage.setItem("token",t.token),this.$router.push("/")):this.error="connexion échouée"}}}},b=r(89);const k=(0,b.Z)(_,[["render",v]]);var y=k},8117:function(e,t,r){r.r(t),r.d(t,{default:function(){return V}});var o=r(3396);const s={class:"page-content p-5 bg-light",id:"content"},a={class:"py-4"},i=(0,o.uE)('<header class="pb-3 mb-4 border-bottom"><a href="/workforce" class="d-flex align-items-center text-dark text-decoration-none"><svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-person-lines-fill" viewBox="0 0 16 16"><path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"></path></svg><span class="fs-4 ms-2 text-light"><strong> Gestion des employées</strong></span></a></header>',1),n={class:"row"},l={class:"col"},d=(0,o._)("span",{class:"nav_txt"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-person-add",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}),(0,o._)("path",{d:"M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"})])],-1),c=[d],p=(0,o._)("footer",{class:"pt-3 mt-4 fw-bold text-light border-top"}," © MDT-Systeme 2022 ",-1);function u(e,t,r,d,u,h){const m=(0,o.up)("MenuSide"),f=(0,o.up)("WorkforceList");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m),(0,o._)("div",s,[(0,o._)("div",a,[i,(0,o._)("div",n,[(0,o._)("div",l,[(0,o._)("div",{class:"btn",onClick:t[0]||(t[0]=(...e)=>h.redirect&&h.redirect(...e))},c)])]),(0,o.Wm)(f),p])])],64)}r(7658);var h=r(7139);const m={key:0,class:"text-danger fw-bold"},f={key:1,class:"text-success fw-bold"},g={class:"table bg-light rounded-3"},v=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Prénom"),(0,o._)("th",{scope:"col"},"Nom"),(0,o._)("th",{scope:"col"},"Pseudo"),(0,o._)("th",{scope:"col"},"grade")])],-1),w={class:"d-flex justify-content-evenly"},_=["onClick"],b=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-person-dash",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7ZM11 12h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1Zm0-7a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}),(0,o._)("path",{d:"M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"})],-1),k=[b],y=["onClick"],x=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-person-fill-gear",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})],-1),A=[x];function M(e,t,r,s,a,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[a.error?((0,o.wg)(),(0,o.iD)("div",m,(0,h.zw)(a.error),1)):(0,o.kq)("",!0),a.success?((0,o.wg)(),(0,o.iD)("div",f,(0,h.zw)(a.success),1)):(0,o.kq)("",!0),(0,o._)("table",g,[v,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.workforce,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",null,(0,h.zw)(e.firstname),1),(0,o._)("td",null,(0,h.zw)(e.lastname),1),(0,o._)("td",null,(0,h.zw)(e.username),1),(0,o._)("td",null,(0,h.zw)(e.grade),1),(0,o._)("td",w,[(0,o._)("div",{onClick:t=>i.deleteWorker(e.id),class:"delete"},k,8,_),(0,o._)("div",{onClick:t=>i.modifyWorker(e.id),class:"modify"},A,8,y)])])))),128))])])],64)}var T={name:"WorkforceList",data(){return{error:null,success:null,workforce:[]}},async created(){const e=await fetch("/workforce");this.workforce=await e.json()},props:{},methods:{async deleteWorker(e){const t=await fetch(`/workforce/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")}}),r=await t.json();0==r.error?(this.workforce=this.workforce.filter((t=>t.id!==e)),this.success=r.successMessage):this.error=r.errorMessage},async modifyWorker(e){const t=await fetch(`/workforce/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")}}),r=await t.json();0==r.error?alert("Modification disponible dans une prochaine mise à jour"):alert("Modif impossible")}}},z=r(89);const C=(0,z.Z)(T,[["render",M]]);var S=C,Z=r(426),D={name:"WorkforceView",components:{WorkforceList:S,MenuSide:Z.Z},methods:{async redirect(){const e=await fetch("/checkGrade",{method:"GET",headers:{"Content-Type":"application/json",Authorisation:"Bearer "+localStorage.getItem("token")}}),t=await e.json();null===localStorage.getItem("token")||!0===t.error?alert(t.errorMessage):this.$router.push("/register")}}};const N=(0,z.Z)(D,[["render",u]]);var V=N}}]);
//# sourceMappingURL=about.639b4904.js.map